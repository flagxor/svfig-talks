<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Forth Haiku</title>
    <meta name="description"
    content="Forth Haiku - January 30, 2018">
    <meta name="author" content="Brad Nelson">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style"
    content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <link rel="stylesheet" href="../reveal.js/css/reveal.css">
    <link rel="stylesheet" href="../common/haiku_monthly2.css" id="theme">
    <link href="http://fonts.googleapis.com/css?family=Mrs+Sheppards"
    rel="stylesheet" type="text/css">
    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="../reveal.js/lib/css/zenburn.css">
    <script src="../common/printing.js"></script>
    <!--[if lt IE 9]>
    <script src="../reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <div class="slides">
        <section data-transition="fade-out"
         data-background="../common/sakura_digital.jpg">
        <h1><font color="#400" style="font-weight: 100; font-family: 'Mrs Sheppards', cursive;">Forth Haiku</font><br/>
        </h1>
        <h3>January 30, 2018</h3>
        <p>
        <small><a href="http://flagxor.com">Brad Nelson</a> /
          <a href="http://twitter.com/flagxor">@flagxor</a></small>
        </p>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital2.jpg">
        <h3>Summary</h3>
        <ul>
          <li>Intro to Forth</li>
          <li>Forth Haiku</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital3.jpg">
        <h3>Forth</h3>
        <ul>
          <li class="fragment">Created by Charles "Chuck" Moore
            growing out personal programming tools</li>
          <li class="fragment">Named an an aspirationally
            Fo(u)rth generation programming language</li>
          <li class="fragment">Shortened to FORTH due to the 5
            character filenames on the IBM 1130</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital.jpg">
        <h3>Forth</h3>
        <ul>
          <li class="fragment">EXTREME focus on minimalism (programs can always
          be smaller)</li>
          <li class="fragment">Stack based, RPN, concatenative</li>
          <li class="fragment">Focus on the 'word' as the core unit of
            programming</li>
          <li class="fragment">Low level, but with patterns for building high
            level DSLs</li>
          <li class="fragment">User modifiable syntax, identifiers include all
          characters</li>
          <li class="fragment">Sort of compiled, interpreted, and JITed</li>
          <li class="fragment">Diverse and divergent ecosystem</li>
          <li class="fragment">If you've seen one Forth, you've seen one
            Forth</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital2.jpg">
        <h3>Forth</h3>
        <ul>
          <li class="fragment">EasyWriter - first wordprocessor for Apple II
            (John Draper aka Captain Crunch)</li>
          <li class="fragment">Starflight - early generative world game</li>
          <li class="fragment">OpenBoot - Bootloader / BIOS on Sun, IBM, and
            Apple PowerPC Mac</li>
          <li class="fragment">FedEx package trackers</li>
          <li class="fragment">Atari Arcade games, slot machines</li>
          <li class="fragment">Jupiter Ace</li>
          <li class="fragment">Canada Arm, various satellites and probes</li>
          <li class="fragment">Computer controlled cameras</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital3.jpg">
        <h3>Forthisms</h3>
        <ul>
          <li class="fragment">0=F -1=T, allowing AND, OR, XOR to work
            for booleans and bitwise</li>
          <li class="fragment">Source as 64x16 1KB virtual memory "blocks"</li>
          <li class="fragment">Dual "data" + "return" stacks.</li>
          <li class="fragment">Prefer edit time to compile time,
            compile time to run time.</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital.jpg">
        <h3>Disfavored Practices</h3>
        <ul>
          <li class="fragment">PICK and ROLL</li>
          <li class="fragment">Locals</li>
          <li class="fragment">Floating point</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital2.jpg">
        <h3>Standards</h3>
        <ul>
          <li class="fragment">Forth79</li>
          <li class="fragment">Forth83</li>
          <li class="fragment">AnsForth '94</li>
          <li class="fragment">Forth20xx</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital3.jpg">
        <h3>Pitfalls</h3>
        <ul>
          <li class="fragment">
            Potentially "write only", can look like line noise</li>
          <li class="fragment">Easy to end up writing C/C++ in Forth</li>
          <li class="fragment">Forth wants to be the OS</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital.jpg">
        <h3>Definitions</h3>
        <ul>
          <li class="fragment">: WASHER  WASH SPIN RINSE SPIN ;</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital2.jpg">
        <h3>Comments</h3>
        <ul>
          <li class="fragment">( this is a<br/>multiline comment )</li>
          <li class="fragment">\ this is a single line comment</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital3.jpg">
        <h3>Stack Diagrams</h3>
        <ul>
          <li class="fragment">( n n -- n )</li>
          <li class="fragment">n = single-number</li>
          <li class="fragment">d = double-length number</li>
          <li class="fragment">a = address</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital.jpg">
        <h3>Arithmetic</h3>
        <ul>
          <li class="fragment">+ ( a b -- a+b )</li>
          <li class="fragment">- ( a b -- a-b )</li>
          <li class="fragment">* ( a b -- a*b )</li>
          <li class="fragment">2* ( n -- n*2 )</li>
          <li class="fragment">2/ ( n -- n/2 )</li>
          <li class="fragment">*/ ( a b c -- a*b/c )</li>
          <li class="fragment">/mod ( a b -- a/b a%b )</li>
          <li class="fragment">NEGATE ( n -- -n )</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital2.jpg">
        <h3>Floating / Fixed Point</h3>
        <ul>
          <li class="fragment">F+ ( a b -- a+b )</li>
          <li class="fragment">Fixed point by default</li>
          <li class="fragment">Use "appropriate" units usec vs seconds</li>
          <li class="fragment">: msecs 1000 * ;</li>
          <li class="fragment">: seconds 1000 msecs * ;</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital3.jpg">
        <h3>Logical and Compare</h3>
        <ul>
          <li class="fragment">0&lt; ( n -- n&lt;0 )</li>
          <li class="fragment">0= ( a -- a=0 )</li>
          <li class="fragment">&lt; ( a b -- a&lt;b )</li>
          <li class="fragment">AND ( a b -- a&amp;b )</li>
          <li class="fragment">OR ( a b -- a|b )</li>
          <li class="fragment">XOR ( a b -- a^b )</li>
          <li class="fragment">INVERT ( a --- ~a )</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital.jpg">
        <h3>Stack Ops</h3>
        <ul>
          <li class="fragment">DUP ( n -- n n )</li>
          <li class="fragment">SWAP ( a b -- b a )</li>
          <li class="fragment">DROP ( n -- )</li>
          <li class="fragment">OVER ( a b -- a b a )</li>
          <li class="fragment">ROT ( a b c -- b c a )</li>
          <li class="fragment">-ROT ( a b c -- c a b )</li>
          <li class="fragment">2DUP ( a b -- a b a b )</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital2.jpg">
        <h3>Return Stack</h3>
        <ul>
          <li class="fragment">&gt;R ( n -- r:n )</li>
          <li class="fragment">R&gt; ( r:n -- n )</li>
          <li class="fragment">R@ ( r:n -- r:n | n )</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital3.jpg">
        <h3>Memory Ops</h3>
        <ul>
          <li class="fragment">@ ( a -- n )</li>
          <li class="fragment">! ( n a -- )</li>
          <li class="fragment">+! ( n a -- )</li>
          <li class="fragment">C@ ( a -- ch )</li>
          <li class="fragment">C! ( ch a -- )</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital.jpg">
        <h3>Numbers</h3>
        <ul>
          <li class="fragment">DECIMAL</li>
          <li class="fragment">HEX</li>
          <li class="fragment">36 BASE !</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital2.jpg">
        <h3>Flow Control</h3>
        <ul>
          <li class="fragment">(cond) IF (true) ELSE (false) THEN</li>
          <li class="fragment">BEGIN (body) (cond) UNTIL</li>
          <li class="fragment">BEGIN (cond) WHILE (body) REPEAT</li>
          <li class="fragment">(top) (start) DO (body) LOOP</li>
          <li class="fragment">(top) (start) DO (body) (step) +LOOP</li>
          <li class="fragment">(count) FOR (body) NEXT</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital3.jpg">
        <h3>Immediate Words</h3>
        <ul>
          <li class="fragment">: unless postpone 0= postpone if ; immediate</li>
          <li class="fragment">(cond) UNLESS (false) ELSE (true) THEN</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital.jpg">
        <h3>Data Words</h3>
        <ul>
          <li class="fragment">VARIABLE (name)</li>
          <li class="fragment">(value) CONSTANT (name)</li>
          <li class="fragment">width height * constant area</li>
          <li class="fragment">CREATE TABLE 10 , 20 , 30 ,</li>
          <li class="fragment">CREATE IMAGE   AREA ALLOT</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital2.jpg">
        <h3>ColorForth</h3>
        <img
         src="https://raw.githubusercontent.com/narke/colorForth/master/screenshots/colorforth_bochs.png"/>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital3.jpg">
        <h3>DSSP</h3>
        <ul>
          <li class="fragment">Setun - Soviet Ternary Computer</li>
          <li class="fragment">Avoid immediate words</li>
          <pre class="fragment">
DSSP            Forth
[n] IF+ A       [n] 0&gt; IF A THEN
[n] IF0 A       [n] 0= IF A THEN
[n] IF- A       [n] 0&lt; IF A THEN
[n] BR+ A B     [n] 0&gt; IF A ELSE B THEN
[n] BR- A B     [n] 0&lt; NEG IF A ELSE B THEN
[n] BR0 A B     [n] 0= IF A ELSE B THEN
          </pre>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital2.jpg">
        <h3>Forth Haiku</h3>
        <ul>
          <li class="fragment">Tiny programs &rarr; Beauty</li>
          <li class="fragment">Forth &rarr; JavaScript &rarr; GLSL (WebGL)</li>
          <li class="fragment">Share + Evolve on the Web</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital3.jpg">
        <h3>Haiku Basics</h3>
        <ul>
          <li class="fragment">Typical Forth-y words, but with floating point</li>
          <li class="fragment">Program runs once per pixel</li>
          <li class="fragment">Words <b>x, y</b> provide position</li>
          <li class="fragment">Final stack holds red, green, blue, alpha</li>
        </ul>
        </section>

        <section data-transition="fade_out"
         data-background="../common/sakura_digital.jpg">
          <h3>Primrose Flower - adg</h3>
          <pre><code data-trim>
: i 2dup z* log
; x .5 - y .5 -
i i i log over
          </code></pre>
        </section>

        <section data-transition="fade_out"
         data-background="../common/sakura_digital2.jpg">
          <h3>Primrose Flower - adg</h3>
          <iframe data-haiku="ahBzfmZvcnRoc2Fsb24taHJkchILEgVIYWlrdRiAgICA1vGeCww"
           width="550px" height="550px" name="haiku" scrolling="no"></iframe>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital3.jpg">
        <h3>Server and Security</h3>
        <ul>
          <li class="fragment">App Engine</li>
          <li class="fragment">Python API</li>
          <li class="fragment">Limit number of steps</li>
          <li class="fragment">No loops</li>
          <li class="fragment">: 10times x x x x x x x x x x x ;</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital3.jpg">
        <h3>Expanding Forth Haiku</h3>
        <ul>
          <li class="fragment">Thoughtfully grow a small core word set</li>
          <li class="fragment">Work within the limits of WebGL</li>
          <li class="fragment">Add a few powerful words</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital.jpg">
        <h3>Animation</h3>
        <ul>
          <li class="fragment">Introduce <b>t</b>, adding time</li>
          <li class="fragment">Time in seconds since midnight</li>
          <li class="fragment">Allows for clocks!</li>
        </ul>
        </section>

        <section data-transition="fade_out"
         data-background="../common/sakura_digital2.jpg">
          <h3>Clock Cutout - Anonymous</h3>
          <iframe data-haiku="ahBzfmZvcnRoc2Fsb24taHJkchILEgVIYWlrdRiAgICA95OQCgw"
           width="550px" height="550px" name="haiku" scrolling="no"></iframe>
        </section>

        <section data-transition="fade_out"
         data-background="../common/sakura_digital3.jpg">
          <h3>PACMAN - www.manwe.ru</h3>
          <pre>
: d dup ;
: m 1 min ;
: f d floor - ;
: c cos abs ;
: j t 4 + 2 * x 8 * floor 8 / + 4 * c 2 / t 4 + 2 / c 4 ** * - ;
: a 1 x x 8 * floor 0.5 + 8 / - d * y ;
: b - d * + sqrt 50 * 8 ** ;
: p x t 4 + pi / f 1.6 * - 0.2 + ;
: v t 4 + pi 2 * / f ;
a j 0.5 b -
v d 0.5 < * 4 * m *
1 p d * y 0.5 - d * + 36 * 30 ** m -
y 0.5 - p atan2 abs t 10 * c 0.8 * - 16 * m * 0 max
a 0.5 b - 0 max d p 16 * &lt * +
p d * y 0.58 b m *
v 0.5 >= *
+ d 0.2
          </pre>
        </section>

        <section data-transition="fade_out"
         data-background="../common/sakura_digital2.jpg">
          <h3>PACMAN - www.manwe.ru</h3>
          <iframe data-haiku="ahBzfmZvcnRoc2Fsb24taHJkcg0LEgVIYWlrdRiYlRMM"
           width="550px" height="550px" name="haiku" scrolling="no"></iframe>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital3.jpg">
        <h3>Interactivity</h3>
        <ul>
          <li class="fragment">Introduce <b>mx, my, buttons, button</b>, adding mouse and keyboard</li>
        </ul>
        </section>

        <section data-transition="fade_out"
         data-background="../common/sakura_digital.jpg">
          <h3>TFKP 4 Flower Redux - Anonymous</h3>
          <iframe data-haiku="ahBzfmZvcnRoc2Fsb24taHJkchILEgVIYWlrdRiAgICA25ibCgw"
           width="550px" height="550px" name="haiku" scrolling="no"></iframe>
        </section>


        <section data-transition="fade-out"
         data-background="../common/sakura_digital3.jpg">
        <h3>Audio</h3>
        <ul>
          <li class="fragment">Audio is HARD!</li>
          <li class="fragment">Audio from corners of image (pentatonic scale)</li>
          <li class="fragment">Introduced <b>audio</b>, adding an audio waveform</li>
          <li class="fragment">
            <a href="https://forthsalon.appspot.com/haiku-view/ahBzfmZvcnRoc2Fsb24taHJkchILEgVIYWlrdRiAgICA3caECQw">Sample 1</a>
          </li>
          <li class="fragment">
            <a href="https://forthsalon.appspot.com/haiku-view/ahBzfmZvcnRoc2Fsb24taHJkchILEgVIYWlrdRiAgIDAiPuRCgw">Sample 2</a>
          </li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital2.jpg">
        <h3>Video Input</h3>
        <ul>
          <li class="fragment">Limited by WebGL</li>
          <li class="fragment">Video feed becomes texture source</li>
        </ul>
        </section>

        <section data-transition="fade_out"
         data-background="../common/sakura_digital2.jpg">
          <iframe data-haiku="ahBzfmZvcnRoc2Fsb24taHJkchILEgVIYWlrdRiAgICgjMOBCgw"
           width="550px" height="550px" name="haiku" scrolling="no"></iframe>
          <pre><code data-trim>
x y sample
          </code></pre>
        </section>

        <section data-transition="fade_out"
         data-background="../common/sakura_digital3.jpg">
          <iframe data-haiku="ahBzfmZvcnRoc2Fsb24taHJkchILEgVIYWlrdRiAgIDA28ecCgw"
           width="550px" height="550px" name="haiku" scrolling="no"></iframe>
          <pre><code data-trim>
x y bwsample
          </code></pre>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital.jpg">
        <h3>Compilation</h3>
        <ul>
          <li class="fragment">Forth -&gt; JavaScript</li>
          <li class="fragment">Stack converted to locals</li>
          <li class="fragment">JavaScript -&gt; WebGL fragment shader</li>
        </ul>
        </section>

        <section data-transition="fade_out"
         data-background="../common/sakura_digital.jpg">
          <iframe data-haiku="ahBzfmZvcnRoc2Fsb24taHJkchILEgVIYWlrdRiAgIDApvWYCgw"
           width="550px" height="550px" name="haiku" scrolling="no"></iframe>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital2.jpg">
        <img width=1000 src="http://developer.download.nvidia.com/CgTutorial/elementLinks/fig1_6.jpg"/>
        <small>http://developer.download.nvidia.com/CgTutorial/cg_tutorial_chapter01.html</small>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital3.jpg">
        <img src="http://www.cs.cornell.edu/courses/cs4620/2017sp/cs4621/lecture01/graphics-pipeline.png"/>
        <small>http://www.cs.cornell.edu/courses/cs4620/2017sp/cs4621/lecture01/index.html</small>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital.jpg">
        <h3>Users + Demo Sceners + Fun</h3>
        <ul>
          <li class="fragment">Disqus for forum</li>
          <li class="fragment">Text search</li>
          <li class="fragment">Spam</li>
          <li class="fragment">Genealogy</li>
        </ul>
        </section>

        <section data-transition="fade-out"
         data-background="../common/sakura_digital.jpg">
          <p><a href="http://forthsalon.appspot.com/">
            forthsalon.appspot.com</a></p>
          <p>Source and slides at:
          <a href="https://github.com/flagxor">
            github.com/flagxor</a></p>
          <h1>&#x2698;</h1>
          <h2>Thank you</h2>
        </section>

     </div>
    </div>

    <script src="../common/haiku.js"></script>
    <script src="../reveal.js/lib/js/head.min.js"></script>
    <script src="../reveal.js/js/reveal.js"></script>
    <script src="../common/config_vision.js"></script>
  </body>
</html>
