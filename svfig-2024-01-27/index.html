<!DOCTYPE html>
<script src="../websent/websent.js"></script><script>
FONT = 'consolas; courier';
USABLE = 0.9;
LINE_SPACING = 1.2;
BACKGROUND = '#000077';
FOREGROUND = '#ffffff';
</script><pre>

ğŸ§¹  Winter Haikus &   ğŸ§¹ 
Emergency Spring Cleaning
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 â„  January 27, 2024  â„

Forth Haiku
â•â•â•â•â•â•â•â•â•â•â•
â€¢ Introduced in 2011
â€¢ Small Programs in Forth
â€¢ Colorful Pictures, Animations, Sounds
â€¢ Pixel/Fragment Shader
â€¢ Forth -> JavaScript -> WebGL
â€¢ Anyone can post
â€¢ Anyone can create a "Create a derived work"
â€¢ Runs on the Web + Google AppEngine

https://forthsalon.appspot.com/

AppEngine
â•â•â•â•â•â•â•â•â•
â€¢ Launched in April 7, 2008
â€¢ Initially Python
  - Later Go, Java, PHP, NodeJS, .NET, and Ruby
â€¢ Designed to scale from tiny to millions
â€¢ Free for tiny
â€¢ Built-in Datastore, Account Handling,
  Memcache, Web Templates, Search API

Compatibility
â•â•â•â•â•â•â•â•â•â•â•â•â•
â€¢ For several years, slow incremental change
  - Master/Slave Datastore to High Replication Datastore
    - forthsalon -> forthsalon-hrd
  - Changes to the python database library
  - User account handling deprecated

Compatibility...
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â€¢ But then this January Python2 + old runtime deprecated
  - January 30, 2024 last day to push old version
  - Unclear how much longer old runtimes will work
  - Underpinnings clearly more VM-like
â€¢ A bunch of changes required
  - Dependencies using pip
  - New datastore interface
  - No more Search API

Bigtable
â•â•â•â•â•â•â•â•
â€¢ NoSQL + Eventual consistency
â€¢ Indexed on (Row:string, Column:string, Time:int64)
â€¢ Build your own structure, store protocol buffers
â€¢ Atomic transactions at row level
â€¢ Highly distributed + scalable

Cloud Datastore
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â€¢ Make this look more like SQL
â€¢ Entities = Rows
â€¢ Keys and Ancestors abstracting Bigtable row keys
â€¢ Automatic indexes kept fields by default
â€¢ Additional indexes added in index.yaml
â€¢ Still eventual consistency
â€¢ Transactions limited historically small number of
  "entity groups" (common ancestors)

class Haiku(ndb.Model):
  when = ndb.DateTimeProperty(auto_now_add=True)
  title = ndb.StringProperty()
  author = ndb.StringProperty()
  code = ndb.TextProperty()
  score = ndb.IntegerProperty()
  rank = ndb.FloatProperty(default=0.0)
  last_modified = ndb.DateTimeProperty(auto_now=True)
  parent = ndb.StringProperty(default='')
  parent_recorded = ndb.BooleanProperty(default=False)

Changes
â•â•â•â•â•â•â•
â€¢ Switched from Search API to searching
  for author / title prefix
â€¢ Added dependencies explicitly
â€¢ Adopted new Flask framework
â€¢ Switched to new Datastore API library

â„ Winter Haikus â„

QUESTIONSâ“
    ğŸ™
 Thank you!
